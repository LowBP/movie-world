{"version":3,"file":"static/js/480.fa717e5f.chunk.js","mappings":"8OAgBA,MCdA,EDc0CA,KACxC,MAAMC,GAAWC,EAAAA,EAAAA,eACXC,GAAiBC,EAAAA,EAAAA,aAAYC,EAAAA,IAC7BC,GAAkBF,EAAAA,EAAAA,aAAYG,EAAAA,IAC9BC,GAAcJ,EAAAA,EAAAA,aAAYK,EAAAA,IAC1BC,GAAgBN,EAAAA,EAAAA,aAAYO,EAAAA,KAElCC,EAAAA,EAAAA,YAAU,KACRX,GAASY,EAAAA,EAAAA,MAA2B,GACnC,CAACZ,KAEJW,EAAAA,EAAAA,YAAU,KACRE,SAASC,MAAQ,8BAAoB,GACpC,IAEH,MAAMC,GAAgBC,EAAAA,EAAAA,cAAY,KAChC,GAAIP,IAAkBQ,EAAAA,EAAYC,QAAS,CACzC,MAAMC,EAAWZ,EAAc,EAC/BP,GAASoB,EAAAA,EAAAA,IAAsBD,GACjC,IACC,CAACnB,EAAUS,EAAeF,IAE7B,OACEc,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,WAAWC,EAAAA,EAAAA,GAAE,CAAEC,cAAc,IAAQL,UAChC,OAAdrB,QAAc,IAAdA,OAAc,EAAdA,EAAgB2B,WACfL,EAAAA,EAAAA,KAACM,EAAAA,EAAmB,CAClBvB,YAAaA,EACbF,gBAAiBA,EACjBS,MAAM,kBACNiB,OAAQ7B,EAAe2B,QACvBG,cAAejB,OAIrBS,EAAAA,EAAAA,KAACS,EAAAA,EAAS,MACT,C,iBElDA,SAAS7B,EAAkB8B,GAChC,OAAOA,EAAMH,OAAO7B,eAAeA,cACrC,CAEO,SAASQ,EAAuBwB,GACrC,OAAOA,EAAMH,OAAO7B,eAAeiC,WACrC,CAEO,SAAS3B,EAA6B0B,GAC3C,OAAOA,EAAMH,OAAO7B,eAAekC,kBACrC,CAEO,SAAS9B,EAA+B4B,GAC7C,QAAIA,EAAMH,OAAO7B,eAAeA,gBACvBgC,EAAMH,OAAO7B,eAAekC,mBAAqBF,EAAMH,OAAO7B,eAAeA,eAAemC,WAIvG,C","sources":["pages/UpcomingMovies/UpcomingMovies.tsx","pages/UpcomingMovies/index.ts","store/movie/upcoming/selectors.ts"],"sourcesContent":["import React, { FunctionComponent, useCallback, useEffect } from 'react';\n\nimport AppContent from 'components/ui/AppContent';\nimport AppFooter from 'components/partials/AppFooter';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FetchStatus } from 'common/types/fetch-status';\nimport { b } from 'components/ui/AppContent/AppContent';\nimport { AppCardInfinityList } from 'components/ui/AppCardList';\nimport {\n  getCurrentPageUpcomingMovies,\n  getUpcomingFetchStatus,\n  getUpcomingMovies,\n  hasMorePagesWithUpcomingMovies,\n} from 'store/movie/upcoming/selectors';\nimport { fetchUpcomingMoviesStart, setUpcomingSearchPage } from 'store/movie/upcoming/actions';\n\nconst UpcomingMovies: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const upcomingMovies = useSelector(getUpcomingMovies);\n  const hasMoreElements = useSelector(hasMorePagesWithUpcomingMovies);\n  const currentPage = useSelector(getCurrentPageUpcomingMovies);\n  const requestStatus = useSelector(getUpcomingFetchStatus);\n\n  useEffect(() => {\n    dispatch(fetchUpcomingMoviesStart());\n  }, [dispatch]);\n\n  useEffect(() => {\n    document.title = 'Upcoming movies ðŸ“…';\n  }, []);\n\n  const loadMoreCards = useCallback(() => {\n    if (requestStatus !== FetchStatus.PENDING) {\n      const nextPage = currentPage + 1;\n      dispatch(setUpcomingSearchPage(nextPage));\n    }\n  }, [dispatch, requestStatus, currentPage]);\n\n  return (\n    <>\n      <AppContent className={b({ withPaddings: true })}>\n        {upcomingMovies?.results && (\n          <AppCardInfinityList\n            currentPage={currentPage}\n            hasMoreElements={hasMoreElements}\n            title='Upcoming movies'\n            movies={upcomingMovies.results}\n            onLoadHandler={loadMoreCards}\n          />\n        )}\n      </AppContent>\n      <AppFooter />\n    </>\n  );\n};\n\nexport default UpcomingMovies;\n","import UpcomingMovies from './UpcomingMovies';\n\nexport default UpcomingMovies;\n","import { ApplicationState } from 'store/store';\n\nexport function getUpcomingMovies(state: ApplicationState) {\n  return state.movies.upcomingMovies.upcomingMovies;\n}\n\nexport function getUpcomingFetchStatus(state: ApplicationState) {\n  return state.movies.upcomingMovies.fetchStatus;\n}\n\nexport function getCurrentPageUpcomingMovies(state: ApplicationState) {\n  return state.movies.upcomingMovies.upcomingSearchPage;\n}\n\nexport function hasMorePagesWithUpcomingMovies(state: ApplicationState) {\n  if (state.movies.upcomingMovies.upcomingMovies) {\n    return state.movies.upcomingMovies.upcomingSearchPage < state.movies.upcomingMovies.upcomingMovies.total_pages;\n  }\n\n  return false;\n}\n"],"names":["UpcomingMovies","dispatch","useDispatch","upcomingMovies","useSelector","getUpcomingMovies","hasMoreElements","hasMorePagesWithUpcomingMovies","currentPage","getCurrentPageUpcomingMovies","requestStatus","getUpcomingFetchStatus","useEffect","fetchUpcomingMoviesStart","document","title","loadMoreCards","useCallback","FetchStatus","PENDING","nextPage","setUpcomingSearchPage","_jsxs","_Fragment","children","_jsx","AppContent","className","b","withPaddings","results","AppCardInfinityList","movies","onLoadHandler","AppFooter","state","fetchStatus","upcomingSearchPage","total_pages"],"sourceRoot":""}