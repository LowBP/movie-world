{"version":3,"file":"static/js/550.ff4aaa2d.chunk.js","mappings":"8OAgBA,MCdA,EDc0CA,KACxC,MAAMC,GAAWC,EAAAA,EAAAA,eACXC,GAAiBC,EAAAA,EAAAA,aAAYC,EAAAA,IAC7BC,GAAkBF,EAAAA,EAAAA,aAAYG,EAAAA,IAC9BC,GAAcJ,EAAAA,EAAAA,aAAYK,EAAAA,IAC1BC,GAAgBN,EAAAA,EAAAA,aAAYO,EAAAA,KAElCC,EAAAA,EAAAA,YAAU,KACRX,GAASY,EAAAA,EAAAA,MAA2B,GACnC,CAACZ,KAEJW,EAAAA,EAAAA,YAAU,KACRE,SAASC,MAAQ,+BAAqB,GACrC,IAEH,MAAMC,GAAgBC,EAAAA,EAAAA,cAAY,KAChC,GAAIP,IAAkBQ,EAAAA,EAAYC,QAAS,CACzC,MAAMC,EAAWZ,EAAc,EAC/BP,GAASoB,EAAAA,EAAAA,IAAsBD,GACjC,IACC,CAACnB,EAAUS,EAAeF,IAE7B,OACEc,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,WAAWC,EAAAA,EAAAA,GAAE,CAAEC,cAAc,IAAQL,UAChC,OAAdrB,QAAc,IAAdA,OAAc,EAAdA,EAAgB2B,WACfL,EAAAA,EAAAA,KAACM,EAAAA,EAAmB,CAClBvB,YAAaA,EACbF,gBAAiBA,EACjBS,MAAM,mBACNiB,OAAQ7B,EAAe2B,QACvBG,cAAejB,OAIrBS,EAAAA,EAAAA,KAACS,EAAAA,EAAS,MACT,C,iBElDA,SAAS7B,EAAkB8B,GAChC,OAAOA,EAAMH,OAAO7B,eAAeA,cACrC,CAEO,SAASQ,EAAuBwB,GACrC,OAAOA,EAAMH,OAAO7B,eAAeiC,WACrC,CAEO,SAAS3B,EAA6B0B,GAC3C,OAAOA,EAAMH,OAAO7B,eAAekC,kBACrC,CAEO,SAAS9B,EAA+B4B,GAC7C,QAAIA,EAAMH,OAAO7B,eAAeA,gBACvBgC,EAAMH,OAAO7B,eAAekC,mBAAqBF,EAAMH,OAAO7B,eAAeA,eAAemC,WAIvG,C","sources":["pages/TopRatedMovies/TopRatedMovies.tsx","pages/TopRatedMovies/index.ts","store/movie/top-rated/selectors.ts"],"sourcesContent":["import React, { FunctionComponent, useCallback, useEffect } from 'react';\n\nimport AppContent from 'components/ui/AppContent';\nimport AppFooter from 'components/partials/AppFooter';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FetchStatus } from 'common/types/fetch-status';\nimport { b } from 'components/ui/AppContent/AppContent';\nimport { AppCardInfinityList } from 'components/ui/AppCardList';\nimport {\n  getCurrentPageTopRatedMovies,\n  getTopRatedFetchStatus,\n  getTopRatedMovies,\n  hasMorePagesWithTopRatedMovies,\n} from 'store/movie/top-rated/selectors';\nimport { fetchTopRatedMoviesStart, setTopRatedSearchPage } from 'store/movie/top-rated/actions';\n\nconst TopRatedMovies: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const topRatedMovies = useSelector(getTopRatedMovies);\n  const hasMoreElements = useSelector(hasMorePagesWithTopRatedMovies);\n  const currentPage = useSelector(getCurrentPageTopRatedMovies);\n  const requestStatus = useSelector(getTopRatedFetchStatus);\n\n  useEffect(() => {\n    dispatch(fetchTopRatedMoviesStart());\n  }, [dispatch]);\n\n  useEffect(() => {\n    document.title = 'Top rated movies ðŸŒŸ';\n  }, []);\n\n  const loadMoreCards = useCallback(() => {\n    if (requestStatus !== FetchStatus.PENDING) {\n      const nextPage = currentPage + 1;\n      dispatch(setTopRatedSearchPage(nextPage));\n    }\n  }, [dispatch, requestStatus, currentPage]);\n\n  return (\n    <>\n      <AppContent className={b({ withPaddings: true })}>\n        {topRatedMovies?.results && (\n          <AppCardInfinityList\n            currentPage={currentPage}\n            hasMoreElements={hasMoreElements}\n            title='Top rated movies'\n            movies={topRatedMovies.results}\n            onLoadHandler={loadMoreCards}\n          />\n        )}\n      </AppContent>\n      <AppFooter />\n    </>\n  );\n};\n\nexport default TopRatedMovies;\n","import TopRatedMovies from './TopRatedMovies';\n\nexport default TopRatedMovies;\n","import { ApplicationState } from 'store/store';\n\nexport function getTopRatedMovies(state: ApplicationState) {\n  return state.movies.topRatedMovies.topRatedMovies;\n}\n\nexport function getTopRatedFetchStatus(state: ApplicationState) {\n  return state.movies.topRatedMovies.fetchStatus;\n}\n\nexport function getCurrentPageTopRatedMovies(state: ApplicationState) {\n  return state.movies.topRatedMovies.topRatedSearchPage;\n}\n\nexport function hasMorePagesWithTopRatedMovies(state: ApplicationState) {\n  if (state.movies.topRatedMovies.topRatedMovies) {\n    return state.movies.topRatedMovies.topRatedSearchPage < state.movies.topRatedMovies.topRatedMovies.total_pages;\n  }\n\n  return false;\n}\n"],"names":["TopRatedMovies","dispatch","useDispatch","topRatedMovies","useSelector","getTopRatedMovies","hasMoreElements","hasMorePagesWithTopRatedMovies","currentPage","getCurrentPageTopRatedMovies","requestStatus","getTopRatedFetchStatus","useEffect","fetchTopRatedMoviesStart","document","title","loadMoreCards","useCallback","FetchStatus","PENDING","nextPage","setTopRatedSearchPage","_jsxs","_Fragment","children","_jsx","AppContent","className","b","withPaddings","results","AppCardInfinityList","movies","onLoadHandler","AppFooter","state","fetchStatus","topRatedSearchPage","total_pages"],"sourceRoot":""}