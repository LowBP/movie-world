{"version":3,"file":"static/js/623.9226e314.chunk.js","mappings":"8OAgBA,MCdA,EDcyCA,KACvC,MAAMC,GAAWC,EAAAA,EAAAA,eACXC,GAAgBC,EAAAA,EAAAA,aAAYC,EAAAA,IAC5BC,GAAkBF,EAAAA,EAAAA,aAAYG,EAAAA,IAC9BC,GAAcJ,EAAAA,EAAAA,aAAYK,EAAAA,IAC1BC,GAAgBN,EAAAA,EAAAA,aAAYO,EAAAA,KAElCC,EAAAA,EAAAA,YAAU,KACRX,GAASY,EAAAA,EAAAA,MAA0B,GAClC,CAACZ,KAEJW,EAAAA,EAAAA,YAAU,KACRE,SAASC,MAAQ,6BAAmB,GACnC,IAEH,MAAMC,GAAgBC,EAAAA,EAAAA,cAAY,KAChC,GAAIP,IAAkBQ,EAAAA,EAAYC,QAAS,CACzC,MAAMC,EAAWZ,EAAc,EAC/BP,GAASoB,EAAAA,EAAAA,IAAqBD,GAChC,IACC,CAACnB,EAAUS,EAAeF,IAE7B,OACEc,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,WAAWC,EAAAA,EAAAA,GAAE,CAAEC,cAAc,IAAQL,UACjC,OAAbrB,QAAa,IAAbA,OAAa,EAAbA,EAAe2B,WACdL,EAAAA,EAAAA,KAACM,EAAAA,EAAmB,CAClBvB,YAAaA,EACbF,gBAAiBA,EACjBS,MAAM,iBACNiB,OAAQ7B,EAAc2B,QACtBG,cAAejB,OAIrBS,EAAAA,EAAAA,KAACS,EAAAA,EAAS,MACT,C,iBElDA,SAAS7B,EAAiB8B,GAC/B,OAAOA,EAAMH,OAAO7B,cAAciC,YACpC,CAEO,SAASzB,EAA4BwB,GAC1C,OAAOA,EAAMH,OAAO7B,cAAckC,WACpC,CAEO,SAAS5B,EAA4B0B,GAC1C,OAAOA,EAAMH,OAAO7B,cAAcmC,iBACpC,CAEO,SAAS/B,EAA8B4B,GAC5C,QAAIA,EAAMH,OAAO7B,cAAciC,cACtBD,EAAMH,OAAO7B,cAAcmC,kBAAoBH,EAAMH,OAAO7B,cAAciC,aAAaG,WAIlG,C","sources":["pages/PopularMovies/PopularMovies.tsx","pages/PopularMovies/index.ts","store/movie/popular/selectors.ts"],"sourcesContent":["import React, { FunctionComponent, useCallback, useEffect } from 'react';\n\nimport AppContent from 'components/ui/AppContent';\nimport AppFooter from 'components/partials/AppFooter';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getCurrentPagePopularMovies,\n  getPopularMovies,\n  getPopularMoviesFetchStatus,\n  hasMorePagesWithPopularMovies,\n} from 'store/movie/popular/selectors';\nimport { FetchStatus } from 'common/types/fetch-status';\nimport { b } from 'components/ui/AppContent/AppContent';\nimport { AppCardInfinityList } from 'components/ui/AppCardList';\nimport { fetchPopularMoviesStart, setPopularSearchPage } from 'store/movie/popular/actions';\n\nconst PopularMovies: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const popularMovies = useSelector(getPopularMovies);\n  const hasMoreElements = useSelector(hasMorePagesWithPopularMovies);\n  const currentPage = useSelector(getCurrentPagePopularMovies);\n  const requestStatus = useSelector(getPopularMoviesFetchStatus);\n\n  useEffect(() => {\n    dispatch(fetchPopularMoviesStart());\n  }, [dispatch]);\n\n  useEffect(() => {\n    document.title = 'Popular movies ðŸ”¥';\n  }, []);\n\n  const loadMoreCards = useCallback(() => {\n    if (requestStatus !== FetchStatus.PENDING) {\n      const nextPage = currentPage + 1;\n      dispatch(setPopularSearchPage(nextPage));\n    }\n  }, [dispatch, requestStatus, currentPage]);\n\n  return (\n    <>\n      <AppContent className={b({ withPaddings: true })}>\n        {popularMovies?.results && (\n          <AppCardInfinityList\n            currentPage={currentPage}\n            hasMoreElements={hasMoreElements}\n            title='Popular movies'\n            movies={popularMovies.results}\n            onLoadHandler={loadMoreCards}\n          />\n        )}\n      </AppContent>\n      <AppFooter />\n    </>\n  );\n};\n\nexport default PopularMovies;\n","import PopularMovies from './PopularMovies';\n\nexport default PopularMovies;\n","import { ApplicationState } from 'store/store';\n\nexport function getPopularMovies(state: ApplicationState) {\n  return state.movies.popularMovies.popularMovie;\n}\n\nexport function getPopularMoviesFetchStatus(state: ApplicationState) {\n  return state.movies.popularMovies.fetchStatus;\n}\n\nexport function getCurrentPagePopularMovies(state: ApplicationState) {\n  return state.movies.popularMovies.popularSearchPage;\n}\n\nexport function hasMorePagesWithPopularMovies(state: ApplicationState) {\n  if (state.movies.popularMovies.popularMovie) {\n    return state.movies.popularMovies.popularSearchPage < state.movies.popularMovies.popularMovie.total_pages;\n  }\n\n  return false;\n}\n"],"names":["PopularMovies","dispatch","useDispatch","popularMovies","useSelector","getPopularMovies","hasMoreElements","hasMorePagesWithPopularMovies","currentPage","getCurrentPagePopularMovies","requestStatus","getPopularMoviesFetchStatus","useEffect","fetchPopularMoviesStart","document","title","loadMoreCards","useCallback","FetchStatus","PENDING","nextPage","setPopularSearchPage","_jsxs","_Fragment","children","_jsx","AppContent","className","b","withPaddings","results","AppCardInfinityList","movies","onLoadHandler","AppFooter","state","popularMovie","fetchStatus","popularSearchPage","total_pages"],"sourceRoot":""}